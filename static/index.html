


<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDIE</title>
    
    <!-- CSS 파일들 -->
    <link rel="stylesheet" href="/static/styles/main.css">
    <link rel="stylesheet" href="/static/styles/chatbot.css">
    <link rel="stylesheet" href="/static/styles/navbar.css">
</head>
<body>
    <!-- 햄버거 메뉴 버튼 -->
    <button id="hamburger-btn" class="hamburger-menu">
        ☰
    </button>

    <!-- 사이드바 오버레이 -->
    <div id="sidebar-overlay" class="sidebar-overlay"></div>

    <!-- 사이드바 -->
    <nav id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <h2>EDIE</h2>
            <button id="close-sidebar" class="close-sidebar">
                ×
            </button>
        </div>
        <ul class="sidebar-menu">
            <li class="menu-item">
                <a href="/" class="menu-link">
                    <span class="menu-icon">🏠</span>
                    <span>채팅&카메라</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="/touch-laser" class="menu-link">
                    <span class="menu-icon">🎮</span>
                    <span>터치&레이저</span>
                </a>
            </li>
        </ul>
    </nav>

    <div class="container">
        <!-- 카메라/감정/프레임 영역 -->
        <div class="camera-section">
            <div class="camera-frame">
                <div class="camera-title">에디의 시야</div>
                <div class="camera-inner-frame">
                    <div class="camera-container">
                        <h2>Camera View</h2>
                        <div class="camera-viewer">
                            <img src="/camera/stream" alt="Camera Stream" id="camera-stream">
                        </div>
                    </div>
                </div>
            </div>
                <div class="emotion-container">
                    <div class="emotion-left">
                        <div class="user-emotion-box">사용자 감정<br><span class="emotion-label"></span></div>
                        <!-- (추후 사용자 감정 그래프/팔각형 등 추가 가능) -->
                    </div>
                    <div class="emotion-divider"></div>
                    <div class="emotion-right">
                        <div class="edie-emotion-box">에디 감정</div>
                        <div class="octagon-stack">
                            <svg width="320" height="320" viewBox="0 0 320 320">
                                <!-- 4중 정팔각형 (중심 160,160) -->
                                <polygon points="160,52 236.4,83.6 268,160 236.4,236.4 160,268 83.6,236.4 52,160 83.6,83.6" fill="none" stroke="#1a7f8a" stroke-width="4"/>
                                <polygon points="160,80 217.6,102.4 240,160 217.6,217.6 160,240 102.4,217.6 80,160 102.4,102.4" fill="none" stroke="#1a7f8a" stroke-width="2.5"/>
                                <polygon points="160,108 198.8,121.2 212,160 198.8,198.8 160,212 121.2,198.8 108,160 121.2,121.2" fill="none" stroke="#1a7f8a" stroke-width="1.5"/>
                                <polygon points="160,134 179.4,140.6 186,160 179.4,179.4 160,186 140.6,179.4 134,160 140.6,140.6" fill="none" stroke="#1a7f8a" stroke-width="1"/>
                                <!-- 꼭짓점 감정 라벨 (320 기준) -->
                                <text x="160" y="30" text-anchor="middle" font-size="14" fill="#222">궁금함</text>
                                <text x="260" y="65" text-anchor="middle" font-size="14" fill="#222">기쁨</text>
                                <text x="300" y="160" text-anchor="middle" font-size="14" fill="#222">실망</text>
                                <text x="272" y="260" text-anchor="middle" font-size="14" fill="#222">어지러움</text>
                                <text x="160" y="300" text-anchor="middle" font-size="14" fill="#222">사랑</text>
                                <text x="48" y="260" text-anchor="middle" font-size="14" fill="#222">슬픔</text>
                                <text x="14" y="160" text-anchor="middle" font-size="14" fill="#222">졸림</text>
                                <text x="55" y="65" text-anchor="middle" font-size="14" fill="#222">놀람</text>
                            </svg>
                        </div>
                    </div>
                </div>
        </div>

        <!-- 챗봇/상단 정보 영역 -->
        <div class="chat-section">
            <div class="chat-info-box">
                <div class="battery-box">
                    <div class="battery-fill" id="battery-fill"></div>
                    <div class="battery-text" id="battery-text">--%</div>
                </div>
                <div class="mic-box">마이크 데시벨 시각화 <span class="mic-record-btn">녹음</span></div>
            </div>
            <div class="chat-container">
                <!-- 챗봇 헤더 -->
                <div class="chat-header">
                    <h1>EDIE</h1>
                    <button id="clear-btn" class="clear-button">대화 초기화</button>
                </div>
                <!-- 사용자 ID 입력 영역 -->
                <div class="user-id-section">
                    <div class="user-id-input">
                        <input type="text" id="user-id" placeholder="사용자 ID를 입력하세요" maxlength="20">
                        <button id="login-btn">로그인</button>
                    </div>
                    <div class="current-user" id="current-user" style="display: none;">
                        현재 사용자: <span id="current-user-name"></span>
                        <button id="logout-btn" class="logout-button">로그아웃</button>
                    </div>
                </div>
                <!-- 대화 창 -->
                <div class="chat-box" id="chat-box">
                    <div class="message bot">
                        안녕하세요! 저는 에디입니다. 먼저 사용자 ID를 입력해주세요! 🤖
                    </div>
                </div>
                <!-- 입력 영역 -->
                <div class="chat-input">
                    <!-- STT 모드 슬라이딩 토글 -->
                    <label class="toggle-switch">
                        <input type="checkbox" id="stt-toggle">
                        <span class="toggle-slider"></span>
                    </label>
                    <input id="user-input" type="text" placeholder="메시지를 입력하세요..." autocomplete="off" />
                    <button id="mic-btn" class="mic-button" title="음성 인식"><span class="material-icons">mic</span></button>
                    <button id="send-btn">전송</button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript 파일들 -->
    <script src="/static/scripts/navbar.js"></script>
    <script src="/static/scripts/chatbot.js"></script>
    <script src="/static/scripts/main.js"></script>
</body>
</html>
